# Python 2.7
# Servidor UDP: $nc -lvup <porta>

import socket

# AF_INET -> IPv4 / SOCK_DGRAM -> UDP
client = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

ip = "127.0.0.1"
port = 666

try:

    while True:
        client.sendto(raw_input("Voce: ") + "\n", (ip, port))
        msg, friend = client.recvfrom(1024)
        print friend[0] + ": " + msg

    client.close()

except Exception as erro: 
    print "Conexao falhou"
    print erro

    client.close()

